(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{TDBs:function(t,e,i){"use strict";i.r(e),i.d(e,"DashboardModule",function(){return M});var n=i("tyNb"),s=i("fXoL"),r=i("ofXK");const o=function(t){return{"background-image":t}};function a(t,e){if(1&t){const t=s.Pb();s.Ob(0,"div",1),s.Vb("click",function(){s.fc(t);const i=e.index;return s.Xb().goToSlide(i)}),s.Kb(1,"div",2),s.Nb()}if(2&t){const t=e.index,i=s.Xb();s.ic("left",null==i.slides[t]?null:i.slides[t].params.left,"px")("top",null==i.slides[t]?null:i.slides[t].params.top,"px")("transform","scale("+(null==i.slides[t]?null:i.slides[t].params.scaleToAnimate)+")"),s.yb(1),s.ac("ngStyle",s.bc(7,o,"url("+i.data[t].img+")"))}}let l=(()=>{class t{constructor(t){this.hostElem=t,this.data=[],this.slidesToShow=5,this.slidesData=[],this.ellipseRatio=.5,this.lastSlideScale=.3,this.animDuration=800,this.shearFactor=.8,this.slideSize=100,this.currentIndex=0,this.currentIndexChange=new s.n,this.slides=[],this.ellipse=2*Math.PI,this.ellipseLength=0,this.ellipseLengthKoef=0,this.direction=1,this.isAnimationActive=!1,this.prevIndex=0,this.galleryHeight=0,this.galleryWidth=0}ngOnInit(){for(let t=0;t<this.data.length;t++)this.slides.push({index:t});this.onWindowResize()}nextSlide(t){t&&t.preventDefault(),this.isAnimationActive||(this.prevIndex=this.currentIndex,this.currentIndex<this.slides.length-1?this.currentIndex++:this.currentIndex=0,this.direction=1,this.currentIndexChange.emit(this.currentIndex),this.setSlidesPosition(!0))}prevSlide(t){t&&t.preventDefault(),this.isAnimationActive||(this.prevIndex=this.currentIndex,this.currentIndex>0?this.currentIndex--:this.currentIndex=this.slides.length-1,this.direction=-1,this.currentIndexChange.emit(this.currentIndex),this.setSlidesPosition(!0))}goToSlide(t){null===t||t===this.currentIndex||this.isAnimationActive||(this.prevIndex=this.currentIndex,t=Math.max(Math.min(t,this.slides.length-1),0),this.direction=this.getDirectionByIndex(t),this.currentIndex=t,this.currentIndexChange.emit(this.currentIndex),this.setSlidesPosition(!0))}getDirectionByIndex(t){let e=this.data.map((t,e)=>e);const i=e.slice(),n=e.slice().reverse();e=i.concat(e).concat(n);const s=e.indexOf(t),r=e.indexOf(this.currentIndex,s);return r-s>e.indexOf(t,r)-r?1:-1}defineSlideVisibility(){const t=this.getSlidesIndexByNum(this.currentIndex),e=this.ellipse/this.slidesToShow,i=this.slidesToShow*e-(this.ellipse-e*(this.slidesToShow-1)*this.shearFactor)/2;for(let n=0;n<this.slides.length;n++){const s=this.slides[n],r=t.indexOf(n);let o=e*r*this.shearFactor;-1!==r&&0!==r&&r!==t.length-1&&(o+=this.ellipseLengthKoef*(t.length-1-r)*this.slideSize*(1-this.lastSlideScale)/5),s.prevPosition=s.currentPosition,s.currentPosition=-1!==r?o:i,s.active=-1!==r,void 0===s.prevPosition&&(s.prevPosition=s.currentPosition)}}getSlidesIndexByNum(t){const e=this.slides.length-(t+this.slidesToShow);let i=this.slides.slice(t,t+this.slidesToShow);return e<0&&(i=i.concat(this.slides.slice(0,Math.abs(e)))),i.map(({index:t})=>t)}getSlideParams(t,e=1){const i=(1-this.lastSlideScale)/this.slidesToShow;let n=t.currentPosition-t.prevPosition;n*this.direction>0&&(n=(-this.ellipse+Math.abs(n))*this.direction);const s=Math.PI-t.prevPosition-n*e,r=this.galleryWidth/2*Math.cos(s)+this.galleryWidth/2-this.slideSize/2,o=this.galleryHeight/2*Math.sin(s)+this.galleryHeight/2-this.slideSize/2,a=t.active?1-i*t.currentPosition:0;return{left:r,top:o,scale:a,scaleToAnimate:t.params?t.params.scale:a}}setSlidesPosition(t=!1){if(this.isAnimationActive)return;const e=[];this.defineSlideVisibility();for(let i=0;i<this.slides.length;i++){const n=this.slides[i];t?n.currentPosition!==n.prevPosition&&e.push(this.animate(n)):n.params=this.getSlideParams(n)}t&&(this.isAnimationActive=!0,Promise.all(e).then(()=>{this.isAnimationActive=!1}))}updateParams(){this.galleryWidth=this.hostElem.nativeElement.clientWidth,this.galleryHeight=this.galleryWidth*this.ellipseRatio,this.ellipseLength=Math.PI*(this.galleryWidth+this.galleryHeight)/2,this.ellipseLengthKoef=this.ellipse/this.ellipseLength}animate(t){t.params=this.getSlideParams(t);const e=t.params.scaleToAnimate,i=e-t.params.scale;return this.animation({duration:this.animDuration,draw:n=>{t.params=this.getSlideParams(t,n),t.params.scaleToAnimate=e-i*n}})}animation(t){return new Promise(e=>{const i=performance.now(),n=s=>{let r=(s-i)/t.duration;(r>1||!this.isAnimationActive)&&(r=1,e());const o=Math.max(Math.pow(r,2),0);t.draw(o),r<1&&requestAnimationFrame(n)};requestAnimationFrame(n)})}onWindowResize(){this.updateParams(),this.setSlidesPosition()}get height(){return`${this.galleryHeight}px`}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(s.l))},t.\u0275cmp=s.Db({type:t,selectors:[["kt-ellipse-gallery"]],hostVars:2,hostBindings:function(t,e){1&t&&s.Vb("resize",function(){return e.onWindowResize()},!1,s.ec),2&t&&s.ic("height",e.height)},inputs:{data:"data",slidesToShow:"slidesToShow",slidesData:"slidesData",ellipseRatio:"ellipseRatio",lastSlideScale:"lastSlideScale",animDuration:"animDuration",shearFactor:"shearFactor",slideSize:"slideSize",currentIndex:"currentIndex"},outputs:{currentIndexChange:"currentIndexChange"},decls:1,vars:1,consts:[["class","slide",3,"left","top","transform","click",4,"ngFor","ngForOf"],[1,"slide",3,"click"],[1,"image-holder",3,"ngStyle"]],template:function(t,e){1&t&&s.jc(0,a,2,9,"div",0),2&t&&s.ac("ngForOf",e.data)},directives:[r.j,r.l],styles:["[_nghost-%COMP%]{display:block;position:relative}.slide[_ngcontent-%COMP%]{width:100px;height:100px;position:absolute;left:0;top:0;font-size:50px;border-radius:50%;cursor:pointer}.image-holder[_ngcontent-%COMP%]{width:100%;height:100%;background-size:cover;background-position:50%;border-radius:50%;transition:transform .2s}.image-holder[_ngcontent-%COMP%]:hover{transform:scale(1.2)}"]}),t})();var c=i("d//k"),d=i("zx2A");class h{constructor(t){this.notifier=t}call(t,e){const i=new u(t),n=Object(d.c)(this.notifier,new d.a(i));return n&&!i.seenValue?(i.add(n),e.subscribe(i)):i}}class u extends d.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function g(t,e){if(1&t&&(s.Ob(0,"p"),s.kc(1),s.Nb()),2&t){const t=e.$implicit;s.yb(1),s.lc(t)}}function b(t,e){if(1&t&&(s.Mb(0),s.jc(1,g,2,1,"p",0),s.Lb()),2&t){const t=s.Xb(2).$implicit;s.yb(1),s.ac("ngForOf",t.content)}}function p(t,e){if(1&t&&(s.Ob(0,"p"),s.kc(1),s.Nb()),2&t){const t=e.$implicit;s.yb(1),s.lc(t)}}function f(t,e){if(1&t&&(s.Mb(0),s.jc(1,p,2,1,"p",0),s.Lb()),2&t){const t=s.Xb(2).index,e=s.Xb();s.yb(1),s.ac("ngForOf",e.readMoreData[t].content)}}function m(t,e){if(1&t){const t=s.Pb();s.Ob(0,"a",6),s.Vb("click",function(e){s.fc(t);const i=s.Xb(2).$implicit;return s.Xb().toggleSize(e,i)}),s.kc(1),s.Nb()}if(2&t){const t=s.Xb(2).$implicit;s.yb(1),s.lc(t.showAll?"Less":"Read more")}}function x(t,e){if(1&t){const t=s.Pb();s.Ob(0,"div"),s.Ob(1,"h2"),s.kc(2),s.Ob(3,"button",3),s.Vb("click",function(e){return s.fc(t),s.Xb(2).prevSlide(e)}),s.kc(4,"prev"),s.Nb(),s.Ob(5,"button",4),s.Vb("click",function(e){return s.fc(t),s.Xb(2).nextSlide(e)}),s.kc(6,"next"),s.Nb(),s.Nb(),s.jc(7,b,2,1,"ng-container",2),s.jc(8,f,2,1,"ng-container",2),s.jc(9,m,2,1,"a",5),s.Nb()}if(2&t){const t=s.Xb(),e=t.$implicit,i=t.index,n=s.Xb();s.yb(2),s.mc(" ",e.title," "),s.yb(5),s.ac("ngIf",e.showAll),s.yb(1),s.ac("ngIf",!e.showAll),s.yb(1),s.ac("ngIf",n.readMoreData[i].readMoreActive)}}function y(t,e){if(1&t&&(s.Mb(0),s.jc(1,x,10,4,"div",2),s.Lb()),2&t){const t=e.index,i=s.Xb();s.yb(1),s.ac("ngIf",i.currentIndex===t)}}const S=function(t){return{active:t}};function v(t,e){if(1&t){const t=s.Pb();s.Ob(0,"li",7),s.Vb("click",function(){s.fc(t);const i=e.index;return s.Xb().goToSlide(i)}),s.Nb()}if(2&t){const t=e.index,i=s.Xb();s.ac("ngClass",s.bc(1,S,i.currentIndex===t))}}let O=(()=>{class t{constructor(){this.data=[],this.currentIndex=0,this.switchSlide=new s.n,this.readMoreData=[],this._maxAllowedCharacters=300}ngOnChanges(){this.defineReadMoreData()}defineReadMoreData(){this.readMoreData=[];for(let t=0;t<this.data.length;t++){let e=this._maxAllowedCharacters;this.readMoreData.push({content:[]});for(const i of this.data[t].content){const n=Math.min(e,i.length),s=i.substring(0,n);if(e-=n,0===e){(s.length<i.length||this.readMoreData[t].content.length<this.readMoreData[t].content.length)&&(this.readMoreData[t].readMoreActive=!0),this.readMoreData[t].content.push(s+"...");break}this.readMoreData[t].content.push(s)}}}toggleSize(t,e){t.preventDefault(),e.showAll=!e.showAll}nextSlide(t){t&&t.preventDefault(),this.switchSlide.emit(this.currentIndex<this.data.length-1?this.currentIndex+1:0)}prevSlide(t){t&&t.preventDefault(),this.switchSlide.emit(this.currentIndex>0?this.currentIndex-1:this.data.length-1)}goToSlide(t){null!==t&&t!==this.currentIndex&&(t=Math.max(Math.min(t,this.data.length-1),0),this.switchSlide.emit(t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["kt-description-gallery"]],inputs:{data:"data",currentIndex:"currentIndex"},outputs:{switchSlide:"switchSlide"},features:[s.wb],decls:3,vars:2,consts:[[4,"ngFor","ngForOf"],[3,"ngClass","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"prev",3,"click"],[1,"next",3,"click"],["href","","class","badge badge-pill badge-primary read-more",3,"click",4,"ngIf"],["href","",1,"badge","badge-pill","badge-primary","read-more",3,"click"],[3,"ngClass","click"]],template:function(t,e){1&t&&(s.jc(0,y,2,1,"ng-container",0),s.Ob(1,"ul"),s.jc(2,v,1,3,"li",1),s.Nb()),2&t&&(s.ac("ngForOf",e.data),s.yb(2),s.ac("ngForOf",e.data))},directives:[r.j,r.k,r.i],styles:["[_nghost-%COMP%]{text-align:justify}ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none;display:flex;justify-content:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 .3rem;width:1rem;height:1rem;border-radius:50%;background:#363f48;cursor:pointer}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#3498db}.read-more[_ngcontent-%COMP%]{cursor:pointer}h2[_ngcontent-%COMP%]{position:relative;padding-right:5rem}h2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0;top:.8rem;border-color:#ccc;border-style:solid;border-width:4px 4px 0 0;overflow:hidden;text-indent:-9999px;padding:0;background:none;outline:none;width:1.5rem;height:1.5rem;transform:rotate(45deg)}h2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border-color:#3498db}h2[_ngcontent-%COMP%]   .prev[_ngcontent-%COMP%]{right:2rem;transform:rotate(-135deg)}"]}),t})();const I=[{path:"",component:(()=>{class t{constructor(t,e){var i;this.route=t,this._loginService=e,this.ellipseGalleryData=[],this.currentIndex=0,this.unsubscribe=new s.n,this.route.data.pipe((i=this.unsubscribe,t=>t.lift(new h(i)))).subscribe(t=>this.init(t.gallaryData))}init(t){this.ellipseGalleryData=t}goToSlide(t){this.ellipseGallery.goToSlide(t)}logOut(){this._loginService.logOut()}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(n.a),s.Jb(c.a))},t.\u0275cmp=s.Db({type:t,selectors:[["kt-dashboard-page"]],viewQuery:function(t,e){if(1&t&&s.nc(l,3),2&t){let t;s.cc(t=s.Wb())&&(e.ellipseGallery=t.first)}},decls:8,vars:4,consts:[[1,"mb-5"],[1,"container","d-flex","justify-content-end"],[1,"btn","btn-primary",3,"click"],[1,"container","d-flex"],[3,"data","currentIndex","switchSlide"],[1,"ellipse-gallery-holder"],[3,"currentIndex","data","currentIndexChange"]],template:function(t,e){1&t&&(s.Ob(0,"header",0),s.Ob(1,"div",1),s.Ob(2,"button",2),s.Vb("click",function(){return e.logOut()}),s.kc(3,"Log Out"),s.Nb(),s.Nb(),s.Nb(),s.Ob(4,"div",3),s.Ob(5,"kt-description-gallery",4),s.Vb("switchSlide",function(t){return e.goToSlide(t)}),s.Nb(),s.Ob(6,"div",5),s.Ob(7,"kt-ellipse-gallery",6),s.Vb("currentIndexChange",function(t){return e.currentIndex=t}),s.Nb(),s.Nb(),s.Nb()),2&t&&(s.yb(5),s.ac("data",e.ellipseGalleryData)("currentIndex",e.currentIndex),s.yb(2),s.ac("currentIndex",e.currentIndex)("data",e.ellipseGalleryData))},directives:[O,l],styles:["[_nghost-%COMP%]{min-width:1000px;padding-bottom:4rem}[_nghost-%COMP%], header[_ngcontent-%COMP%]{display:block}header[_ngcontent-%COMP%]{background:#363f48;padding:1rem 0}.container[_ngcontent-%COMP%]{max-width:960px;width:960px}.ellipse-gallery-holder[_ngcontent-%COMP%], kt-description-gallery[_ngcontent-%COMP%]{width:50%}kt-description-gallery[_ngcontent-%COMP%]{padding-right:3rem}.ellipse-gallery-holder[_ngcontent-%COMP%]{padding:0 50px}"]}),t})()}];let w=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[n.d.forChild(I)],n.d]}),t})(),M=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[r.c,w]]}),t})()}}]);